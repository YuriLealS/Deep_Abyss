<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quizz</title>
    <link rel="stylesheet" href="css/root.css">
    <link rel="icon" href="css/img/logo2.png">
    <link rel="stylesheet" href="css/body.css">
    <link rel="stylesheet" href="css/cabecalho.css">
    <link rel="stylesheet" href="css/rodape.css">
    <link rel="stylesheet" href="css/quizz.css">
</head>
<body>
        <!-- Início Cabeçalho -->

        <div class="cabecalho">
            <div class="container_cabecalho">
                <a href="index_logado.html"><img src="css/img/logo.png" alt="Logo do Site" class="logo_cabecalho"></a>
                    <ul class="itens_cabecalho">
                        <li> <a href="index_logado.html">Home</a></li>
                        <li> <a href="curiosidades.html">Curiosidades</a></li>
                        <li> <a href="quizz.html">Quizz</a></li>
                        <li> <a href="sobre_mim.html">Sobre</a></li>
                        <li>|</li>
                        <li> <a onclick="limparSessao()" style="cursor: pointer;">Log out</a></li>  
                
                    </ul>
            </div>
        </div>
    
<!-- Fim Cabeçalho -->

<!-- --------------------------------------------------------------------------------------------------------- -->

<!-- Inicio corpo -->

        

        <div class="perguntas">
            <button onclick="play()" class="btn_play" id="btn_inicial">INICIAR</button>

                <div class="caixa_perguntas" id="caixas_perguntas">

                    <h2 id="mudar_pergunta">Pergunta <input type="number" id="num" class="sumir" disabled></h2>

                            <div id="pergunta">
                            </div>
                    
                </div>
        </div>

        <div class="alternativas" id="alterna">
                            
            <div class="alternativa_A">
                <input type="radio" id="A" name="fav_language" value="A">
                <label for="A" id="altA">A</label><br>
            </div>

            <div class="alternativa_B"> 
                <input type="radio" id="B" name="fav_language" value="B">
                <label for="B" id="altB">B</label><br>
            </div>

            <div class="alternativa_C">
                <input type="radio" id="C" name="fav_language" value="C">
                <label for="C" id="altC">C</label><br>
            </div>
            
            <div class="alternativa_D">
                <input type="radio" id="D" name="fav_language" value="D">
                <label for="D" id="altD">D</label>
            </div>

        </div>
        
        <div class="botao_confirmar" id="div_confirma1">
            <button onclick="confirmado1()" id="confirmar1" class="confirme">Confirmar Resposta</button>
        </div>

        <div class="botao_confirmar" id="div_confirma2">
            <button onclick="confirmado2()" id="confirmar2" class="confirme">Confirmar Resposta</button>
        </div>

        <div class="botao_confirmar" id="div_confirma3">
            <button onclick="confirmado3()" id="confirmar3" class="confirme">Confirmar Resposta</button>
        </div> 

        <div class="botao_confirmar" id="div_confirma4">
            <button onclick="confirmado4()" id="confirmar4" class="confirme">Confirmar Resposta</button>
        </div>

        <div class="botao_confirmar" id="div_confirma5">
            <button onclick="confirmado5()" id="confirmar5" class="confirme">Confirmar Resposta</button>
        </div>
        
        <div class="botao_confirmar" id="div_confirma6">
            <button onclick="confirmado6()" id="confirmar6" class="confirme">Confirmar Resposta</button>
        </div>
        
        <div class="botao_confirmar" id="div_confirma7">
            <button onclick="confirmado7()" id="confirmar7" class="confirme">Confirmar Resposta</button>
        </div>
        
        <div class="botao_confirmar" id="div_confirma8">
            <button onclick="confirmado8()" id="confirmar8" class="confirme">Confirmar Resposta</button>
        </div>
        
        <div class="botao_confirmar" id="div_confirma9">
            <button onclick="confirmado9()" id="confirmar9" class="confirme">Confirmar Resposta</button>
        </div>
        
        <div class="botao_confirmar" id="div_confirma4">
            <button onclick="confirmado10()" id="confirmar10" class="confirme">Confirmar Resposta</button>
        </div>
<!-- --------------------------------------------------------------------------------------------------------- -->

<!--Inicio rodapé -->

    <div class="rodape">
        <img class="logo_rodape" src="css/img/logo.png" alt="">
            <div class="texto_rodape_index">
                <p class="texto_rodape">
                    feito por Yuri Leal Sapuppo
                </p>
                <p class="texto_rodape">
                    faculdade SPTech School
                </p>
            </div>
        <img class="logo_facebook" src="css/img/logo face.png" alt="">
        <img class="logo_insta" src="css/img/logo inst.png" alt="">
        <img class="logo_twitter" src="css/img/logo tt.png" alt="">
    </div>

</body>
</html>

<script>

    var acertos = 0
    var erros = 0

    function play() {
        btn_inicial.style.display = 'none'
        mudar_pergunta.style.display = 'block'
        alterna.style.display = 'flex'
        caixas_perguntas.style.display = 'block'
        div_confirma1.style.display = 'flex'
        num.value = '1'
        pergunta.innerHTML = 'Qual desses peixes abaixo é encontrado em todos os oceanos?'

        altA.innerHTML = 'Peixe bolha'
        altB.innerHTML = 'Peixe-Diabo-Negro'
        altC.innerHTML = 'Regaleco'
        altD.innerHTML = 'Tubarão Duende'
    }

    function confirmado1() {
        if (A.checked == false && B.checked == false && C.checked == false && D.checked == false) {
            alert ('Selecione uma alternativa')

        } else if (B.checked) {
            acertos++        
            num.value = '2'
            pergunta.innerHTML = 'Qual o nome científico do peixe regaleco?'

            altA.innerHTML = 'Regalecus Giné'
            altB.innerHTML = 'Regalecus Gise'
            altC.innerHTML = 'Regalecus Gesne'
            altD.innerHTML = 'Regaleco'

            div_confirma1.style.display = 'none'
            div_confirma2.style.display = 'flex'

        } else{
            erros++
            num.value = '2'
            pergunta.innerHTML = 'Qual o nome científico do peixe regaleco?'

            altA.innerHTML = 'Regalecus Giné'
            altB.innerHTML = 'Regalecus Gise'
            altC.innerHTML = 'Regalecus Gesne'
            altD.innerHTML = 'Regaleco'

            div_confirma1.style.display = 'none'
            div_confirma2.style.display = 'flex'

        }

    }

    function confirmado2() {
        if (A.checked == false && B.checked == false && C.checked == false && D.checked == false) {
            alert ('Selecione uma alternativa')

        } else if (C.checked) {
            acertos++        
            num.value = '3'
            pergunta.innerHTML = 'Qual desses animais o macho é considerado um parasita da fêmea, passando grande parte da sua vida dentro da mesma?'

            altA.innerHTML = 'Peixe-Diabo-Negro'
            altB.innerHTML = 'Peixe-Dragão-Negro'
            altC.innerHTML = 'Lula vampiro do inferno'
            altD.innerHTML = 'Tubarão cobra'

            div_confirma1.style.display = 'none'
            div_confirma2.style.display = 'none'
            div_confirma3.style.display = 'flex'

        } else{
            erros++
            num.value = '3'
            pergunta.innerHTML = 'Qual desses animais o macho é considerado um parasita da fêmea, passando grande parte da sua vida dentro da mesma?'

            altA.innerHTML = 'Peixe-Diabo-Negro'
            altB.innerHTML = 'Peixe-Dragão-Negro'
            altC.innerHTML = 'Lula vampiro do inferno'
            altD.innerHTML = 'Tubarão cobra'

            div_confirma1.style.display = 'none'
            div_confirma2.style.display = 'none'
            div_confirma3.style.display = 'flex'
        }

    }

    function confirmado3() {
        if (A.checked == false && B.checked == false && C.checked == false && D.checked == false) {
            alert ('Selecione uma alternativa')

        } else if (D.checked) {
            acertos++        
            num.value = '4'
            pergunta.innerHTML = 'Qual desses animais o macho não tem sistema digestivo, nascendo apenas para reproduzir e depois acaba morrendo?'

            altA.innerHTML = 'Peixe-Diabo-Negro'
            altB.innerHTML = 'Peixe-Dragão-Negro'
            altC.innerHTML = 'Lula vampiro do inferno'
            altD.innerHTML = 'Tubarão cobra'

            div_confirma1.style.display = 'none'
            div_confirma2.style.display = 'none'
            div_confirma3.style.display = 'none'
            div_confirma4.style.display = 'flex'

        } else{
            erros++
            num.value = '4'
            pergunta.innerHTML = 'Qual desses animais o macho não tem sistema digestivo, nascendo apenas para reproduzir e depois acaba morrendo?'

            altA.innerHTML = 'Peixe-Diabo-Negro'
            altB.innerHTML = 'Peixe-Dragão-Negro'
            altC.innerHTML = 'Lula vampiro do inferno'
            altD.innerHTML = 'Tubarão cobra'

            div_confirma1.style.display = 'none'
            div_confirma2.style.display = 'none'
            div_confirma3.style.display = 'none'
            div_confirma4.style.display = 'flex'

        }

    }

    function confirmado4() {
        if (A.checked == false && B.checked == false && C.checked == false && D.checked == false) {
            alert ('Selecione uma alternativa')

        } else if (B.checked) {
            acertos++        
            num.value = '5'
            pergunta.innerHTML = 'Foi por muito tempo considerado o peixe mais feio do mundo. Injustamente, já que sua aparência em seu habitat natural pode ser considerada normal em relação a qualquer outro peixe'

            altA.innerHTML = 'Peixe-Diabo-Negro'
            altB.innerHTML = 'Peixe-Dragão-Negro'
            altC.innerHTML = 'Lula vampiro do inferno'
            altD.innerHTML = 'Tubarão cobra'

            div_confirma1.style.display = 'none'
            div_confirma2.style.display = 'none'
            div_confirma3.style.display = 'none'
            div_confirma4.style.display = 'none'
            div_confirma5.style.display = 'flex'

        } else{
            erros++
            num.value = '5'
            pergunta.innerHTML = 'Qual desses animais o macho não tem sistema digestivo, nascendo apenas para reproduzir e depois acaba morrendo?'

            altA.innerHTML = 'Peixe-Diabo-Negro'
            altB.innerHTML = 'Peixe-Dragão-Negro'
            altC.innerHTML = 'Lula vampiro do inferno'
            altD.innerHTML = 'Tubarão cobra'

            div_confirma1.style.display = 'none'
            div_confirma2.style.display = 'none'
            div_confirma3.style.display = 'none'
            div_confirma4.style.display = 'none'
            div_confirma5.style.display = 'flex'

        }

    }


    function finalizar() {

        // var acertosVar = Number(ipt_nome.value);
        // var errosVar = Number(ipt_email.value);

        setInterval(sumirMensagem, 5000)
        // Enviando o valor da nova input
        fetch("/usuarios/cadastrar", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                // crie um atributo que recebe o valor recuperado aqui
                // Agora vá para o arquivo routes/usuario.js
                acertosServer: acertosVar,
                errosServer: errosVar,
            })
        }).then(function (resposta) {

            console.log("resposta: ", resposta);

            if (resposta.ok) {

                setTimeout(() => {
                    window.location = "index_logado.html";
                }, "2000")
                
                limparFormulario();
                finalizarAguardar();
            } else {
                throw ("Houve um erro ao tentar realizar a coleta de dados");
            }
        }).catch(function (resposta) {
            console.log(`#ERRO: ${resposta}`);
            finalizarAguardar();
        });

        return false;
    }

    function limparSessao() {
    sessionStorage.clear();
    window.location = "login.html";
    }

</script>